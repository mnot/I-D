<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>URI Design and Ownership</title><script>
function anchorRewrite() {
  map = { };
  if (window.location.hash.length >= 1) {
    var fragid = window.location.hash.substr(1);
    if (fragid) {
      if (! document.getElementById(fragid)) {
        var prefix = "rfc.";
        var mapped = map[fragid];
        if (mapped) {
          window.location.hash = mapped;
        } else if (fragid.indexOf("section-") == 0) {
          window.location.hash = prefix + "section." + fragid.substring(8);
        } else if (fragid.indexOf("appendix-") == 0) {
          window.location.hash = prefix + "section." + fragid.substring(9);
        } else if (fragid.indexOf("s-") == 0) {
          var postfix = fragid.substring(2);
          if (postfix.startsWith("abstract")) {
            window.location.hash = prefix + postfix;
          } else if (postfix.startsWith("note-")) {
            window.location.hash = prefix + "note." + postfix.substring(5);
          } else {
            window.location.hash = prefix + "section." + postfix;
          }
        } else if (fragid.indexOf("p-") == 0) {
          var r = fragid.substring(2);
          var p = r.indexOf("-");
          if (p >= 0) {
            window.location.hash = prefix + "section." + r.substring(0, p) + ".p." + r.substring(p + 1);
          }
        }
      }
    }  
  }
}
window.addEventListener('hashchange', anchorRewrite);
window.addEventListener('DOMContentLoaded', anchorRewrite);
</script><meta name="viewport" content="width=device-width, initial-scale=1"><meta property="og:type" content="article"><meta property="og:title" content="URI Design and Ownership"><meta property="og:description" content="Section 1.1.1 of RFC 3986 defines URI syntax as “a federated and extensible naming system wherein each scheme’s specification may further restrict the syntax and semantics of identifiers using that scheme.” In other words, the structure of a URI is defined by its scheme. While it is common for schemes to further delegate their substructure to the URI’s owner, publishing independent standards that mandate particular forms of substructure in URIs is often problematic.This document provides guidance on the specification of URI substructure in standards."><meta property="og:url" content="https://mnot.github.io/I-D/rfc7320bis/"><meta property="og:site_name" content="mnot's Internet Drafts"><link rel="stylesheet" type="text/css" href="../Tools/style.css"><style type="text/css">
      body {
        padding-top: 80px;
        padding-bottom: 80px;
        position: relative;
      }
      .table.header th, .table.header td {
        border-top: none;
        padding: 0;
      }
      #sidebar {
        margin-top: -10px;
        height: 90%;
        overflow-y: auto;
        font-size: 90%;
      }
      #rfc\.meta {
        width: 40%;
        float: right
      }
      .toc ul {
        list-style: none;
      }
      .filename {
        color: rgb(119, 119, 119);
        font-size: 23px;
        font-weight: normal;
        height: auto;
        line-height: 23px;
      }
      dl {
        margin-left: 1em;
      }
      dl.dl-horizontal: {
        margin-left: 0;
      }
      dl > dt {
        float: left;
        margin-right: 1em;
      }
      dl.nohang > dt {
        float: none;
      }
      dl > dd {
        margin-bottom: .5em;
      }
      dl.compact > dd {
        margin-bottom: 0em;
      }
      dl > dd > dl {
        margin-top: 0.5em;
        margin-bottom: 0em;
      }
      ul.empty {
        list-style-type: none;
      }
      ul.empty li {
        margin-top: .5em;
      }
      td.reference {
        padding-right: 1em;
        vertical-align: top;
      }
      .feedback {
        position: fixed;
        bottom: 5px;
        right: 5px;
      }
      .fbbutton {
        margin-left: 5px;
      }
      h1 a, h2 a, h3 a, h4 a, h5 a, h6 a {
        color: rgb(51, 51, 51);
      }
      span.tt {
        font: 11pt consolas, monospace;
        font-size-adjust: none;
      }
    </style><link rel="Contents" href="#rfc.toc"><link rel="Author" href="#rfc.authors"><link rel="License" href="#rfc.copyrightnotice"><link rel="Chapter" title="1 Introduction" href="#rfc.section.1"><link rel="Chapter" title="2 Best Current Practices for Standardizing Structured URIs" href="#rfc.section.2"><link rel="Chapter" title="3 Alternatives to Specifying Structure in URIs" href="#rfc.section.3"><link rel="Chapter" title="4 Security Considerations" href="#rfc.section.4"><link rel="Chapter" title="5 IANA Considerations" href="#rfc.section.5"><link rel="Chapter" title="6 References" href="#rfc.section.6"><link rel="Appendix" title="A Acknowledgments" href="#rfc.section.A"><meta name="viewport" content="initial-scale=1"><meta name="generator" content="https://github.com/mnot/RFCBootstrap XSLT vendor: Saxonica http://www.saxonica.com/"><meta name="keywords" content="URI structure"><link rel="schema.dcterms" href="http://purl.org/dc/terms/"><meta name="dcterms.creator" content="Nottingham, M."><meta name="dcterms.identifier" content="urn:ietf:id:draft-nottingham-rfc7320bis-01"><meta name="dcterms.issued" content="2019-08-22"><meta name="dct.replaces" content="urn:ietf:rfc:7320"><meta name="dcterms.abstract" content="Section 1.1.1 of RFC 3986 defines URI syntax as “a federated and extensible naming system wherein each scheme’s specification may further restrict the syntax and semantics of identifiers using that scheme.” In other words, the structure of a URI is defined by its scheme. While it is common for schemes to further delegate their substructure to the URI’s owner, publishing independent standards that mandate particular forms of substructure in URIs is often problematic.This document provides guidance on the specification of URI substructure in standards."><meta name="description" content="Section 1.1.1 of RFC 3986 defines URI syntax as “a federated and extensible naming system wherein each scheme’s specification may further restrict the syntax and semantics of identifiers using that scheme.” In other words, the structure of a URI is defined by its scheme. While it is common for schemes to further delegate their substructure to the URI’s owner, publishing independent standards that mandate particular forms of substructure in URIs is often problematic.This document provides guidance on the specification of URI substructure in standards."></head><body><div class="container" id="top"><div class="row"><div class="col-lg-4 order-last d-none d-lg-block" id="sidebar" role="navigation"><div class="navbar"><div class="navbar-brand"><a href="#top"></a></div><br clear="all"><div class=""><div class="toc "><ul><li><a href="#rfc.section.1">1.</a>&nbsp;&nbsp;&nbsp;<a href="#intro">Introduction</a><ul><li><a href="#rfc.section.1.1">1.1.</a>&nbsp;&nbsp;&nbsp;<a href="#intended-audience">Intended Audience</a></li><li><a href="#rfc.section.1.2">1.2.</a>&nbsp;&nbsp;&nbsp;<a href="#notational-conventions">Notational Conventions</a></li></ul></li><li><a href="#rfc.section.2">2.</a>&nbsp;&nbsp;&nbsp;<a href="#best-current-practices-for-standardizing-structured-uris">Best Current Practices for Standardizing Structured URIs</a><ul><li><a href="#rfc.section.2.1">2.1.</a>&nbsp;&nbsp;&nbsp;<a href="#uri-schemes">URI Schemes</a></li><li><a href="#rfc.section.2.2">2.2.</a>&nbsp;&nbsp;&nbsp;<a href="#uri-authorities">URI Authorities</a></li><li><a href="#rfc.section.2.3">2.3.</a>&nbsp;&nbsp;&nbsp;<a href="#uri-paths">URI Paths</a></li><li><a href="#rfc.section.2.4">2.4.</a>&nbsp;&nbsp;&nbsp;<a href="#uri-queries">URI Queries</a></li><li><a href="#rfc.section.2.5">2.5.</a>&nbsp;&nbsp;&nbsp;<a href="#uri-fragment-identifiers">URI Fragment Identifiers</a></li></ul></li><li><a href="#rfc.section.3">3.</a>&nbsp;&nbsp;&nbsp;<a href="#alternatives">Alternatives to Specifying Structure in URIs</a></li><li><a href="#rfc.section.4">4.</a>&nbsp;&nbsp;&nbsp;<a href="#security-considerations">Security Considerations</a></li><li><a href="#rfc.section.5">5.</a>&nbsp;&nbsp;&nbsp;<a href="#iana-considerations">IANA Considerations</a></li><li><a href="#rfc.section.6">6.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.references">References</a><ul><li><a href="#rfc.section.6.1">6.1.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.references.1">Normative References</a></li><li><a href="#rfc.section.6.2">6.2.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.references.2">Informative References</a></li></ul></li><li><a href="#rfc.section.A">Appendix A.</a>&nbsp;&nbsp;&nbsp;<a href="#acknowledgments">Acknowledgments</a></li><li><a href="#rfc.authors">Author's Address</a></li></ul></div></div></div></div><div class="col-lg-8 order-first main" role="main"><header><table class="table table-condensed header" id="rfc.headerblock"><tbody><tr><td class="text-left">Network Working Group</td><td class="text-right">M. Nottingham</td></tr><tr><td class="text-left">Internet-Draft</td><td class="text-right">August 22, 2019</td></tr><tr><td class="text-left">Obsoletes: <a href="https://tools.ietf.org/html/rfc7320">7320</a> (if approved)</td><td class="text-right"></td></tr><tr><td class="text-left">Updates: <a href="https://tools.ietf.org/html/rfc3986">3986</a> (if approved)</td><td class="text-right"></td></tr><tr><td class="text-left">Intended status: Best Current Practice</td><td class="text-right"></td></tr><tr><td class="text-left">Expires: February 23, 2020</td><td class="text-right"></td></tr></tbody></table><div id="rfc.title"><h1>URI Design and Ownership</h1><div class="filename"><a href="https://datatracker.ietf.org/doc/draft-nottingham-rfc7320bis" class="smpl">draft-nottingham-rfc7320bis</a>-<a href="https://tools.ietf.org/html/draft-nottingham-rfc7320bis-01" class="smpl">01</a></div></div></header><hr><h2 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h2><div class="lead"><div id="rfc.abstract.p.1"><p>Section 1.1.1 of RFC 3986 defines URI syntax as “a federated and extensible naming system wherein each scheme’s specification may further restrict the syntax and semantics of identifiers using that scheme.” In other words, the structure of a URI is defined by its scheme. While it is common for schemes to further delegate their substructure to the URI’s owner, publishing independent standards that mandate particular forms of substructure in URIs is often problematic.</p></div><div id="rfc.abstract.p.2"><p>This document provides guidance on the specification of URI substructure in standards.</p></div></div><section id="rfc.note.1" class="note"><h2><a href="#rfc.note.1">Note to Readers</a></h2><div id="rfc.note.1.p.1"><p><em>RFC EDITOR: please remove this section before publication</em></p></div><div id="rfc.note.1.p.2"><p>This is a proposed revision of RFC7320, aka BCP190. The -00 draft is a copy of the published RFC; subsequent revisions will update it.</p></div><div id="rfc.note.1.p.3"><p>The issues list for this draft can be found at <a href="https://github.com/mnot/I-D/labels/rfc7320">https://github.com/mnot/I-D/labels/rfc7320</a>.</p></div><div id="rfc.note.1.p.4"><p>The most recent (often, unpublished) draft is at <a href="https://mnot.github.io/I-D/rfc7320/">https://mnot.github.io/I-D/rfc7320/</a>.</p></div><div id="rfc.note.1.p.5"><p>Recent changes are listed at <a href="https://github.com/mnot/I-D/commits/gh-pages/rfc7320">https://github.com/mnot/I-D/commits/gh-pages/rfc7320</a>.</p></div><div id="rfc.note.1.p.6"><p>See also the draft’s current status in the IETF datatracker, at <a href="https://datatracker.ietf.org/doc/draft-nottingham-rfc7320/">https://datatracker.ietf.org/doc/draft-nottingham-rfc7320/</a>.</p></div></section><section id="rfc.status"><h2><a href="#rfc.status">Status of this Memo</a></h2><div id="rfc.boilerplate.1.p.1"><p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p></div><div id="rfc.boilerplate.1.p.2"><p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF). Note that other groups may also distribute working documents as Internet-Drafts. The list of current Internet-Drafts is at <a href="http://datatracker.ietf.org/drafts/current/">http://datatracker.ietf.org/drafts/current/</a>.</p></div><div id="rfc.boilerplate.1.p.3"><p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time. It is inappropriate to use Internet-Drafts as reference material or to cite them other than as “work in progress”.</p></div><div id="rfc.boilerplate.1.p.4"><p>This Internet-Draft will expire on February 23, 2020.</p></div></section><section id="rfc.copyrightnotice"><h2><a href="#rfc.copyrightnotice">Copyright Notice</a></h2><div id="rfc.boilerplate.2.p.1"><p>Copyright © 2019 IETF Trust and the persons identified as the document authors. All rights reserved.</p></div><div id="rfc.boilerplate.2.p.2"><p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p></div></section><div class="toc d-lg-none"><ul><li><a href="#rfc.section.1">1.</a>&nbsp;&nbsp;&nbsp;<a href="#intro">Introduction</a><ul><li><a href="#rfc.section.1.1">1.1.</a>&nbsp;&nbsp;&nbsp;<a href="#intended-audience">Intended Audience</a></li><li><a href="#rfc.section.1.2">1.2.</a>&nbsp;&nbsp;&nbsp;<a href="#notational-conventions">Notational Conventions</a></li></ul></li><li><a href="#rfc.section.2">2.</a>&nbsp;&nbsp;&nbsp;<a href="#best-current-practices-for-standardizing-structured-uris">Best Current Practices for Standardizing Structured URIs</a><ul><li><a href="#rfc.section.2.1">2.1.</a>&nbsp;&nbsp;&nbsp;<a href="#uri-schemes">URI Schemes</a></li><li><a href="#rfc.section.2.2">2.2.</a>&nbsp;&nbsp;&nbsp;<a href="#uri-authorities">URI Authorities</a></li><li><a href="#rfc.section.2.3">2.3.</a>&nbsp;&nbsp;&nbsp;<a href="#uri-paths">URI Paths</a></li><li><a href="#rfc.section.2.4">2.4.</a>&nbsp;&nbsp;&nbsp;<a href="#uri-queries">URI Queries</a></li><li><a href="#rfc.section.2.5">2.5.</a>&nbsp;&nbsp;&nbsp;<a href="#uri-fragment-identifiers">URI Fragment Identifiers</a></li></ul></li><li><a href="#rfc.section.3">3.</a>&nbsp;&nbsp;&nbsp;<a href="#alternatives">Alternatives to Specifying Structure in URIs</a></li><li><a href="#rfc.section.4">4.</a>&nbsp;&nbsp;&nbsp;<a href="#security-considerations">Security Considerations</a></li><li><a href="#rfc.section.5">5.</a>&nbsp;&nbsp;&nbsp;<a href="#iana-considerations">IANA Considerations</a></li><li><a href="#rfc.section.6">6.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.references">References</a><ul><li><a href="#rfc.section.6.1">6.1.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.references.1">Normative References</a></li><li><a href="#rfc.section.6.2">6.2.</a>&nbsp;&nbsp;&nbsp;<a href="#rfc.references.2">Informative References</a></li></ul></li><li><a href="#rfc.section.A">Appendix A.</a>&nbsp;&nbsp;&nbsp;<a href="#acknowledgments">Acknowledgments</a></li><li><a href="#rfc.authors">Author's Address</a></li></ul></div><section id="intro"><h2 id="rfc.section.1" class="np"><a href="#rfc.section.1">1.</a>&nbsp;<a href="#intro">Introduction</a></h2><div id="rfc.section.1.p.1"><p>URIs <a href="#RFC3986"><cite title="Uniform Resource Identifier (URI): Generic Syntax">[RFC3986]</cite></a> very often include structured application data. This might include artifacts from filesystems (often occurring in the path component) and user information (often in the query component). In some cases, there can even be application-specific data in the authority component (e.g., some applications are spread across several hostnames to enable a form of partitioning or dispatch).</p></div><div id="rfc.section.1.p.2"><p>Implementations can impose further constraints upon the structure of URIs; for example, many Web servers use the filename extension of the last path segment to determine the media type of the response. Likewise, prepackaged applications often have highly structured URIs that can only be changed in limited ways (often, just the hostname and port on which they are deployed).</p></div><div id="rfc.section.1.p.3" class="avoidbreakafter"><p>Because the owner of the URI (as defined in <a href="#webarch"><cite title="Architecture of the World Wide Web, Volume One">[webarch]</cite></a> Section 2.2.2.1) is choosing to use the server or the application, this can be seen as reasonable delegation of authority. However, when such conventions are mandated by a party other than the owner, it can have several potentially detrimental effects:</p></div><div id="rfc.section.1.p.4"><ul><li>Collisions - As more ad hoc conventions for URI structure become standardized, it becomes more likely that there will be collisions between them (especially considering that servers, applications, and individual deployments will have their own conventions).</li><li>Dilution - When the information added to a URI is ephemeral, this dilutes its utility by reducing its stability (see <a href="#webarch"><cite title="Architecture of the World Wide Web, Volume One">[webarch]</cite></a> Section 3.5.1), and can cause several alternate forms of the URI to exist (see <a href="#webarch"><cite title="Architecture of the World Wide Web, Volume One">[webarch]</cite></a> Section 2.3.1).</li><li>Rigidity - Fixed URI syntax often interferes with desired deployment patterns. For example, if an authority wishes to offer several applications on a single hostname, it becomes difficult to impossible to do if their URIs do not allow the required flexibility.</li><li>Operational Difficulty - Supporting some URI conventions can be difficult in some implementations. For example, specifying that a particular query parameter be used with “HTTP” URIs precludes the use of Web servers that serve the response from a filesystem. Likewise, an application that fixes a base path for its operation (e.g., “/v1”) makes it impossible to deploy other applications with the same prefix on the same host.</li><li>Client Assumptions - When conventions are standardized, some clients will inevitably assume that the standards are in use when those conventions are seen. This can lead to interoperability problems; for example, if a specification documents that the “sig” URI query parameter indicates that its payload is a cryptographic signature for the URI, it can lead to undesirable behavior.</li></ul></div><div id="rfc.section.1.p.5"><p>Publishing a standard that constrains an existing URI structure in ways that aren’t explicitly allowed by <a href="#RFC3986"><cite title="Uniform Resource Identifier (URI): Generic Syntax">[RFC3986]</cite></a> (usually, by updating the URI scheme definition) is therefore sometimes problematic, both for these reasons, and because the structure of a URI needs to be firmly under the control of its owner.</p></div><div id="rfc.section.1.p.6"><p>This document explains some best current practices for establishing URI structures, conventions, and formats in standards. It also offers strategies for specifications <a href="#alternatives" title="Alternatives to Specifying Structure in URIs">Section&nbsp;3</a>.</p></div><section id="intended-audience"><h3 id="rfc.section.1.1"><a href="#rfc.section.1.1">1.1.</a>&nbsp;<a href="#intended-audience">Intended Audience</a></h3><div id="rfc.section.1.1.p.1" class="avoidbreakafter"><p>This document’s guidelines and requirements target the authors of specifications that constrain the syntax or structure of URIs or parts of them. Two classes of such specifications are called out specifically:</p></div><div id="rfc.section.1.1.p.2"><ul><li>Protocol Extensions (“extensions”) - specifications that offer new capabilities that could apply to any identifier, or to a large subset of possible identifiers; e.g., a new signature mechanism for ‘http’ URIs, metadata for any URI, or a new format.</li><li>Applications Using URIs (“applications”) - specifications that use URIs to meet specific needs; e.g., an HTTP interface to particular information on a host.</li></ul></div><div id="rfc.section.1.1.p.3"><p>Requirements that target the generic class “specifications” apply to all specifications, including both those enumerated above and others.</p></div><div id="rfc.section.1.1.p.4"><p>Note that this specification ought not be interpreted as preventing the allocation of control of URIs by parties that legitimately own them, or have delegated that ownership; for example, a specification might legitimately define the semantics of a URI on IANA’s Web site as part of the establishment of a registry.</p></div><div id="rfc.section.1.1.p.5"><p>There may be existing IETF specifications that already deviate from the guidance in this document. In these cases, it is up to the relevant communities (i.e., those of the URI scheme as well as that which produced the specification in question) to determine an appropriate outcome; e.g., updating the scheme definition, or changing the specification.</p></div></section><section id="notational-conventions"><h3 id="rfc.section.1.2"><a href="#rfc.section.1.2">1.2.</a>&nbsp;<a href="#notational-conventions">Notational Conventions</a></h3><div id="rfc.section.1.2.p.1"><p>The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “NOT RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in BCP 14 <a href="#RFC2119"><cite title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</cite></a> <a href="#RFC8174"><cite title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">[RFC8174]</cite></a> when, and only when, they appear in all capitals, as shown here.</p></div></section></section><section id="best-current-practices-for-standardizing-structured-uris"><h2 id="rfc.section.2"><a href="#rfc.section.2">2.</a>&nbsp;<a href="#best-current-practices-for-standardizing-structured-uris">Best Current Practices for Standardizing Structured URIs</a></h2><div id="rfc.section.2.p.1"><p>This section updates <a href="#RFC3986"><cite title="Uniform Resource Identifier (URI): Generic Syntax">[RFC3986]</cite></a> by advising other specifications how they should define structure and semantics within URIs. Best practices differ depending on the URI component, as described below.</p></div><section id="uri-schemes"><h3 id="rfc.section.2.1"><a href="#rfc.section.2.1">2.1.</a>&nbsp;<a href="#uri-schemes">URI Schemes</a></h3><div id="rfc.section.2.1.p.1"><p>Applications and extensions can require use of specific URI scheme(s); for example, it is perfectly acceptable to require that an application support ‘http’ and ‘https’ URIs. However, applications ought not preclude the use of other URI schemes in the future, unless they are clearly only usable with the nominated schemes.</p></div><div id="rfc.section.2.1.p.2"><p>A specification that defines substructure for URI schemes overall (e.g., a prefix or suffix for URI scheme names) MUST do so by modifying <a href="#BCP115"><cite title="Guidelines and Registration Procedures for New URI Schemes">[BCP115]</cite></a> (an exceptional circumstance).</p></div></section><section id="uri-authorities"><h3 id="rfc.section.2.2"><a href="#rfc.section.2.2">2.2.</a>&nbsp;<a href="#uri-authorities">URI Authorities</a></h3><div id="rfc.section.2.2.p.1"><p>Scheme definitions define the presence, format and semantics of an authority component in URIs; all other specifications MUST NOT constrain, or define the structure or the semantics for URI authorities, unless they update the scheme registration itself, or the structures it relies upon (e.g., DNS name syntax, defined in Section 3.5 of <a href="#RFC1034"><cite title="Domain names - concepts and facilities">[RFC1034]</cite></a>).</p></div><div id="rfc.section.2.2.p.2"><p>For example, an extension or application cannot say that the “foo” prefix in “http://foo_app.example.com” is meaningful or triggers special handling in URIs, unless they update either the HTTP URI scheme, or the DNS hostname syntax.</p></div><div id="rfc.section.2.2.p.3"><p>Applications can nominate or constrain the port they use, when applicable. For example, BarApp could run over port nnnn (provided that it is properly registered).</p></div></section><section id="uri-paths"><h3 id="rfc.section.2.3"><a href="#rfc.section.2.3">2.3.</a>&nbsp;<a href="#uri-paths">URI Paths</a></h3><div id="rfc.section.2.3.p.1"><p>Scheme definitions define the presence, format, and semantics of a path component in URIs. To avoid collisions, rigidity, and erroneous client assumptions, specifications MUST NOT define a fixed prefix for their URIs; for example, “/myapp”.</p></div><div id="rfc.section.2.3.p.2"><p>The only exception to this requirement is registered “well-known” URIs, as specified by <a href="#RFC8615"><cite title="Well-Known Uniform Resource Identifiers (URIs)">[RFC8615]</cite></a>. See that document for a description of the applicability of that mechanism.</p></div><div id="rfc.section.2.3.p.3"><p>Note that this does not apply to applications defining a structure of URIs paths “under” a resource under control of the server. For example, an application might define “app_root” as a deployment-defined URI. Application-defined resources might then be assumed to be present at “{app_root}/foo” and “{app_root}/bar”. Because the prefix is under control of the party deploying the application, collisions and rigidity are avoided, and the risk of erroneous client assumptions is reduced.</p></div><div id="rfc.section.2.3.p.4"><p>Extensions MUST NOT define a structure within individual URI components (e.g., a prefix or suffix), again to avoid collisions and erroneous client assumptions.</p></div></section><section id="uri-queries"><h3 id="rfc.section.2.4"><a href="#rfc.section.2.4">2.4.</a>&nbsp;<a href="#uri-queries">URI Queries</a></h3><div id="rfc.section.2.4.p.1"><p>The presence, format and semantics of the query component of URIs is dependent upon many factors, and can be constrained by a scheme definition. Often, they are determined by the implementation of a resource itself.</p></div><div id="rfc.section.2.4.p.2"><p>Applications can specify the syntax of queries for the resources under their control. However, doing so can cause operational difficulties for deployments that do not support a particular form of a query. For example, a site may wish to support an application using “static” files that do not support query parameters.</p></div><div id="rfc.section.2.4.p.3"><p>Extensions MUST NOT constrain the format or semantics of queries, to avoid collisions and erroneous client assumptions. For example, an extension that indicates that all query parameters with the name “sig” indicate a cryptographic signature would collide with potentially preexisting query parameters on sites and lead clients to assume that any matching query parameter is a signature.</p></div><div id="rfc.section.2.4.p.4"><p>HTML <a href="#W3C.REC-html401-19991224"><cite title="HTML 4.01 Specification">[W3C.REC-html401-19991224]</cite></a> constrains the syntax of query strings used in form submission. New form languages are encouraged to allow creation of a broader variety of URIs (e.g., by allowing the form to create new path components, and so forth).</p></div></section><section id="uri-fragment-identifiers"><h3 id="rfc.section.2.5"><a href="#rfc.section.2.5">2.5.</a>&nbsp;<a href="#uri-fragment-identifiers">URI Fragment Identifiers</a></h3><div id="rfc.section.2.5.p.1"><p>Section 3.5 of <a href="#RFC3986"><cite title="Uniform Resource Identifier (URI): Generic Syntax">[RFC3986]</cite></a> specifies fragment identiers’ syntax and semantics as being dependent upon the media type of a potentially retrieved resource. As a result, other specifications MUST NOT define structure within the fragment identifier, unless they are explicitly defining one for reuse by media types in their definitions (for example, as JSON Pointer <a href="#RFC6901"><cite title="JavaScript Object Notation (JSON) Pointer">[RFC6901]</cite></a> does).</p></div><div id="rfc.section.2.5.p.2"><p>An application that defines common fragment identifiers across media types not controlled by it would engender interoperability problems with handlers for those media types (because the new, non-standard syntax is not expected).</p></div></section></section><section id="alternatives"><h2 id="rfc.section.3"><a href="#rfc.section.3">3.</a>&nbsp;<a href="#alternatives">Alternatives to Specifying Structure in URIs</a></h2><div id="rfc.section.3.p.1"><p>Given the issues described in <a href="#intro" title="Introduction">Section&nbsp;1</a>, the most successful strategy for applications and extensions that wish to use URIs is to use them in the fashion they were designed: as links that are exchanged as part of the protocol, rather than statically specified syntax. Several existing specifications can aid in this.</p></div><div id="rfc.section.3.p.2"><p><a href="#RFC8288"><cite title="Web Linking">[RFC8288]</cite></a> specifies relation types for Web links. By providing a framework for linking on the Web, where every link has a relation type, context and target, it allows applications to define a link’s semantics and connectivity.</p></div><div id="rfc.section.3.p.3"><p><a href="#RFC6570"><cite title="URI Template">[RFC6570]</cite></a> provides a standard syntax for URI Templates that can be used to dynamically insert application-specific variables into a URI to enable such applications while avoiding impinging upon URI owners’ control of them.</p></div><div id="rfc.section.3.p.4"><p><a href="#RFC8615"><cite title="Well-Known Uniform Resource Identifiers (URIs)">[RFC8615]</cite></a> allows specific paths to be ‘reserved’ for standard use on URI schemes that opt into that mechanism (‘http’ and ‘https’ by default). Note, however, that this is not a general “escape valve” for applications that need structured URIs; see that specification for more information.</p></div><div id="rfc.section.3.p.5"><p>Specifying more elaborate structures in an attempt to avoid collisions is not an acceptable solution, and does not address the issues in <a href="#intro" title="Introduction">Section&nbsp;1</a>. For example, prefixing query parameters with “myapp_” does not help, because the prefix itself is subject to the risk of collision (since it is not “reserved”).</p></div></section><section id="security-considerations"><h2 id="rfc.section.4"><a href="#rfc.section.4">4.</a>&nbsp;<a href="#security-considerations">Security Considerations</a></h2><div id="rfc.section.4.p.1"><p>This document does not introduce new protocol artifacts with security considerations. It prohibits some practices that might lead to vulnerabilities; for example, if a security-sensitive mechanism is introduced by assuming that a URI path component or query string has a particular meaning, false positives might be encountered (due to sites that already use the chosen string). See also <a href="#RFC6943"><cite title="Issues in Identifier Comparison for Security Purposes">[RFC6943]</cite></a>.</p></div></section><section id="iana-considerations"><h2 id="rfc.section.5"><a href="#rfc.section.5">5.</a>&nbsp;<a href="#iana-considerations">IANA Considerations</a></h2><div id="rfc.section.5.p.1"><p>There are no direct IANA actions specified in this document.</p></div></section><section id="rfc.references"><h2 id="rfc.section.6"><a href="#rfc.section.6">6.</a> References</h2><section><div id="rfc.references.1"><h3 id="rfc.section.6.1"><a href="#rfc.section.6.1">6.1.</a> Normative References</h3><dl class="dl-horizontal"><dt id="RFC2119">[RFC2119]</dt><dd>Bradner, S., “<a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>”, BCP&nbsp;14, RFC&nbsp;2119, <a href="http://dx.doi.org/10.17487/RFC2119">DOI&nbsp;10.17487/RFC2119</a>, March&nbsp;1997, &lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;.</dd><dt id="RFC3986">[RFC3986]</dt><dd>Berners-Lee, T., Fielding, R., and L. Masinter, “<a href="https://tools.ietf.org/html/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a>”, STD&nbsp;66, RFC&nbsp;3986, <a href="http://dx.doi.org/10.17487/RFC3986">DOI&nbsp;10.17487/RFC3986</a>, January&nbsp;2005, &lt;<a href="https://www.rfc-editor.org/info/rfc3986">https://www.rfc-editor.org/info/rfc3986</a>&gt;.</dd><dt id="RFC8174">[RFC8174]</dt><dd>Leiba, B., “<a href="https://tools.ietf.org/html/rfc8174">Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</a>”, BCP&nbsp;14, RFC&nbsp;8174, <a href="http://dx.doi.org/10.17487/RFC8174">DOI&nbsp;10.17487/RFC8174</a>, May&nbsp;2017, &lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;.</dd><dt id="webarch">[webarch]</dt><dd>Jacobs, I. and N. Walsh, “<a href="http://www.w3.org/TR/2004/REC-webarch-20041215">Architecture of the World Wide Web, Volume One</a>”, December&nbsp;2004, &lt;<a href="http://www.w3.org/TR/2004/REC-webarch-20041215">http://www.w3.org/TR/2004/REC-webarch-20041215</a>&gt;.</dd></dl></div></section><section><div id="rfc.references.2"><h3 id="rfc.section.6.2"><a href="#rfc.section.6.2">6.2.</a> Informative References</h3><dl class="dl-horizontal"><dt id="BCP115">[BCP115]</dt><dd>Hansen, T., Hardie, T., and L. Masinter, “<a href="https://tools.ietf.org/html/bcp115">Guidelines and Registration Procedures for New URI Schemes</a>”, BCP&nbsp;115, RFC&nbsp;4395, February&nbsp;2006, &lt;<a href="https://tools.ietf.org/html/bcp115">https://tools.ietf.org/html/bcp115</a>&gt;.</dd><dt id="RFC1034">[RFC1034]</dt><dd>Mockapetris, P., “<a href="https://tools.ietf.org/html/rfc1034">Domain names - concepts and facilities</a>”, STD&nbsp;13, RFC&nbsp;1034, <a href="http://dx.doi.org/10.17487/RFC1034">DOI&nbsp;10.17487/RFC1034</a>, November&nbsp;1987, &lt;<a href="https://www.rfc-editor.org/info/rfc1034">https://www.rfc-editor.org/info/rfc1034</a>&gt;.</dd><dt id="RFC6570">[RFC6570]</dt><dd>Gregorio, J., Fielding, R., Hadley, M., Nottingham, M., and D. Orchard, “<a href="https://tools.ietf.org/html/rfc6570">URI Template</a>”, RFC&nbsp;6570, <a href="http://dx.doi.org/10.17487/RFC6570">DOI&nbsp;10.17487/RFC6570</a>, March&nbsp;2012, &lt;<a href="https://www.rfc-editor.org/info/rfc6570">https://www.rfc-editor.org/info/rfc6570</a>&gt;.</dd><dt id="RFC6901">[RFC6901]</dt><dd>Bryan, P., Ed., Zyp, K., and M. Nottingham, Ed., “<a href="https://tools.ietf.org/html/rfc6901">JavaScript Object Notation (JSON) Pointer</a>”, RFC&nbsp;6901, <a href="http://dx.doi.org/10.17487/RFC6901">DOI&nbsp;10.17487/RFC6901</a>, April&nbsp;2013, &lt;<a href="https://www.rfc-editor.org/info/rfc6901">https://www.rfc-editor.org/info/rfc6901</a>&gt;.</dd><dt id="RFC6943">[RFC6943]</dt><dd>Thaler, D., Ed., “<a href="https://tools.ietf.org/html/rfc6943">Issues in Identifier Comparison for Security Purposes</a>”, RFC&nbsp;6943, <a href="http://dx.doi.org/10.17487/RFC6943">DOI&nbsp;10.17487/RFC6943</a>, May&nbsp;2013, &lt;<a href="https://www.rfc-editor.org/info/rfc6943">https://www.rfc-editor.org/info/rfc6943</a>&gt;.</dd><dt id="RFC8288">[RFC8288]</dt><dd>Nottingham, M., “<a href="https://tools.ietf.org/html/rfc8288">Web Linking</a>”, RFC&nbsp;8288, <a href="http://dx.doi.org/10.17487/RFC8288">DOI&nbsp;10.17487/RFC8288</a>, October&nbsp;2017, &lt;<a href="https://www.rfc-editor.org/info/rfc8288">https://www.rfc-editor.org/info/rfc8288</a>&gt;.</dd><dt id="RFC8615">[RFC8615]</dt><dd>Nottingham, M., “<a href="https://tools.ietf.org/html/rfc8615">Well-Known Uniform Resource Identifiers (URIs)</a>”, RFC&nbsp;8615, <a href="http://dx.doi.org/10.17487/RFC8615">DOI&nbsp;10.17487/RFC8615</a>, May&nbsp;2019, &lt;<a href="https://www.rfc-editor.org/info/rfc8615">https://www.rfc-editor.org/info/rfc8615</a>&gt;.</dd><dt id="W3C.REC-html401-19991224">[W3C.REC-html401-19991224]</dt><dd>Raggett, D., Hors, A., and I. Jacobs, “<a href="http://www.w3.org/TR/1999/REC-html401-19991224">HTML 4.01 Specification</a>”, World Wide Web Consortium Recommendation&nbsp;REC-html401-19991224, December&nbsp;1999, &lt;<a href="http://www.w3.org/TR/1999/REC-html401-19991224">http://www.w3.org/TR/1999/REC-html401-19991224</a>&gt;.</dd></dl></div></section></section><section id="acknowledgments"><h2 id="rfc.section.A" class="np"><a href="#rfc.section.A">Appendix A.</a>&nbsp;<a href="#acknowledgments">Acknowledgments</a></h2><div id="rfc.section.A.p.1"><p>Thanks to David Booth, Dave Crocker, Tim Bray, Anne van Kesteren, Martin Thomson, Erik Wilde, Dave Thaler and Barry Leiba for their suggestions and feedback.</p></div></section><section id="rfc.authors" class="avoidbreakinside"><h2><a href="#rfc.authors">Author's Address</a></h2><address><b>Mark Nottingham</b><br>EMail: <a href="mailto:mnot@mnot.net">mnot@mnot.net</a><br>URI: <a href="https://www.mnot.net/">https://www.mnot.net/</a></address></section></div></div></div><script src="../Tools/node_modules/jquery/dist/jquery.min.js"></script><script src="../Tools/node_modules/bootstrap/dist/js/bootstrap.min.js"></script></body></html>